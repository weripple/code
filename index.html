<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>We Ripple</title>
	<link href="css/map.css" rel="stylesheet" type="text/css">
	<link href="css/normalize.css" rel="stylesheet" type="text/css"><!-- GOOGLE FONT LINK goes here -->
	<link href="css/main.css" rel="stylesheet" type="text/css">
	<link href="css/responsive.css" rel="stylesheet" type="text/css">
	<meta content="width=device-width, initial-scale=1.0" name="viewport">
	<script src="https://maps.googleapis.com/maps/api/js?v=3.exp">
	</script>
	<script src="js/map.js" type="text/javascript">
	</script>
	<script src="gwt-oauth2.js" type="text/javascript">
	</script>
</head>
<body id="dashboard" onload="verifyEmail()">
	<script type="text/javascript">
	     (function() {
	       var GOOGLE_AUTH_URL = "https://accounts.google.com/o/oauth2/auth";
	       var GOOGLE_CLIENT_ID = "859013733033-oqn2jej2ebikj8l6mu7de248m2k4du7r.apps.googleusercontent.com";
	       //var PLUS_ME_SCOPE = "https://www.googleapis.com/auth/plus.me";
	       //var FusionTable_SCOPE = "https://www.googleapis.com/auth/fusiontables";       
	       var button = document.createElement("button");
	       button.innerText = "Authenticate with Google";
	       button.onclick = function() {

	       var req = {
	           'authUrl' : GOOGLE_AUTH_URL,
	           'clientId' : GOOGLE_CLIENT_ID,
	           'scopes': ['https://www.googleapis.com/auth/fusiontables'
	                     ],
	       };

	       oauth2.login(req, function(token) {
	           alert('Got an OAuth token:\n'+ token +'\n'+ 'Token expires in '+ oauth2.expiresIn(req) +' ms\n');
	         }, function(error) {
	           alert("Error:\n" + error);
	         });
	       };

	       //document.body.appendChild(button);
	       // var clearTokens = document.createElement('button');
	       // clearTokens.innerText = 'Clear all tokens'
	       // clearTokens.onclick = oauth2.clearAllTokens;
	       // document.body.appendChild(clearTokens);

	     })();
	</script>
	<header>
		<div style="text-align: right;">
			<button onclick="signUserOut()">Log Out</button>
		</div><span id="username"></span>
		<h1><a href="temp-index.html">We Ripple</a></h1>
		<h2>Dashboard</h2>
	</header>
	<hr>
	<section style="">
		<div id="districtMap" style="display:inline-block; vertical-align:middle; width: 74%; max-width: 873px; height: 550px; box-sizing: border-box;">
			<div id="googft-mapCanvas" style=""></div><input id="googft-legend-open" style="display:none" type="button" value="Legend">
			<div id="googft-legend" style="display:none">
				<p id="googft-legend-title">Ripple Count</p>
				<div>
					<span class="googft-legend-swatch" style="background-color: #ff0000"></span> <span class="googft-legend-range">0</span>
				</div>
				<div>
					<span class="googft-legend-swatch" style="background-color: #ffff00"></span><br>
				</div>
				<div>
					<span class="googft-legend-swatch" style="background-color: #00ff00"></span> <span class="googft-legend-range">100</span>
				</div><input id="googft-legend-close" style="display:none" type="button" value="Hide">
			</div>
		</div>
		<div id="dashData" style="display:inline-block; vertical-align:middle; width: 25%; min-width: 169.5px; box-sizing: border-box;">
			<h2>Hey <span id="userFName"></span>,</h2>
			<p>Rippling since: <span id="createdAt"></span></p>
			<hr>
			<h3 style="font-size: 2em;">Your Ripples: <a href="#" id="userRipplePoints"></a></h3>
			<h3>Your District: <a href="districtRipples.html" id="userDistrict"></a></h3>
			<h3>Ripplers in your District: <a href="#" id="districtRipples"></a></h3>
			<h3>Total Ripples in USA: <a href="#" id="usaRipples"></a></h3>
			<hr>
			<div id="invite">
				<h2>Send Invitation</h2>
				<form id="invitationForm" name="invitationForm">
					<p><label for="sendTo">Friend's Email:</label><br>
					<input id="sendTo" name="sendTo" required="" type="text"></p>
					<p><label for="message">Your Message:<br></label> 
					<textarea cols="55" id="message" name="message" required="" rows="9" style="max-width: 100%;">Join me in making a difference!</textarea></p>
					<p><input type="submit" value="Send Invite!"></p>
				</form>
			</div>
		</div>
	</section>
	<hr>
	<footer>
		<p>&copy; 2015 WeRipple. All Rights Reserved.</p>
	</footer>
	

	
	<!-- Firebase Scripts -->
	<script src="https://www.gstatic.com/firebasejs/3.9.0/firebase.js"></script>
	<script>
  	// Initialize Firebase
	  var config = {
	    apiKey: "AIzaSyA7SIc7gJtbgn8yqwx3IWBqaNPfg_aDC30",
	    authDomain: "weripple-86b6c.firebaseapp.com",
	    databaseURL: "https://weripple-86b6c.firebaseio.com",
	    projectId: "weripple-86b6c",
	    storageBucket: "weripple-86b6c.appspot.com",
	    messagingSenderId: "976807841375"
	  };
	  firebase.initializeApp(config);
	</script>
	
	<!-- / Firebase Scripts -->

	
	<script src="http://code.jquery.com/jquery-1.11.2.min.js">
	</script> 
	<script src="http://code.jquery.com/jquery-migrate-1.2.1.min.js">
	</script> 
	<script src="http://www.parsecdn.com/js/parse-1.4.0.min.js">
	</script> 
	<script src="js/script.js" type="text/javascript">
	</script> 
	<script src="js/dropRipplesFrom.js" type="text/javascript">
	</script> 
	<script src="js/convertAddressToCongressDistr.js" type="text/javascript">
	</script> 
	<script>
	 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	 (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	 m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	 })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

	 ga('create', 'UA-98316509-1', 'auto');
	 ga('send', 'pageview');

	</script>
</body>
</html>
